# –ú–æ–¥—É–ª–∏ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏

## **[<- –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥](../../middlewares/README.md)**

## –ú–æ–¥—É–ª–∏ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ üìÇ **[peripherals](../peripherals/)**

### üìÇ **[/interfaces](./interfaces/)**

–°–æ–¥–µ—Ä–∂–∏—Ç [–º–æ–¥—É–ª–∏](./interfaces/README.md) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ CAN –∏ USART.

### üìÇ **[/menu](./menu/)**

–°–æ–¥–µ—Ä–∂–∏—Ç [–º–æ–¥—É–ª—å](./menu/README.md) –º–µ–Ω—é (–∫–Ω–æ–ø–∫–∏) –∏ –≤–∫–ª—é—á–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ù–ö–£-SD7 (—á—Ç–µ–Ω–∏–µ –ø–∏–Ω–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ä—Ç-–±–∏—Ç–∞).

### **buzzer**

- üìÑ <a id="buzzer_h"></a> **[buzzer.h](./buzzer.h)** —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–∫—Ç–∏–≤–Ω—ã–º –∏ –ø–∞—Å—Å–∏–≤–Ω—ã–º –±—É–∑–µ—Ä–æ–º (–∑–∞–ø—É—Å–∫ –≥–æ–Ω–≥–∞, –≥–æ–Ω–≥ –¥–ª—è –º–µ–Ω—é, –º–µ–ª–æ–¥–∏—è –¥–ª—è **_TEST_MODE_**).
  –°–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Å —É—Ä–æ–≤–Ω—è–º–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏:

```c
/**
 * –£—Ä–æ–≤–Ω–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ (–∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö).
 */
typedef enum {
  VOLUME_0 = 0, // –ë–µ–∑–∑–≤—É—á–Ω—ã–π —Ä–µ–∂–∏–º
  VOLUME_1 = 1, // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –≥—Ä–æ–º–∫–æ—Å—Ç–∏
  VOLUME_2 = 3, // –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –≥—Ä–æ–º–∫–æ—Å—Ç–∏
  VOLUME_3 = 55 // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –≥—Ä–æ–º–∫–æ—Å—Ç–∏
} volume_t;
```

- üìÑ **[buzzer.c](./buzzer.c)** —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π [buzzer.h](#buzzer_h).

### **flash**

- üìÑ <a id="flash_h"></a> **[flash.h](./flash.h)** —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å flash-–ø–∞–º—è—Ç—å—é (—á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ flash, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –≤–æ flash –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã).
  –°–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```c
/**
 * –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞.
 */
typedef struct {
  uint8_t addr_id;  // –ê–¥—Ä–µ—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
  volume_t volume;  // –£—Ä–æ–≤–µ–Ω—å –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –±—É–∑–µ—Ä–∞
  uint8_t group_id; // –î–æ–ø. –ø–∞—Ä–∞–º–µ—Ç—Ä
} settings_t;
```

- üìÑ **[flash.c](./flash.c)** —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π [flash.h](#flash_h), –∞ —Ç–∞–∫–∂–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–æ flash. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã–¥–µ–ª–µ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è `SETTINGS`, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ —Ñ–∞–π–ª–µ [STM32F103CBTX_FLASH.ld](../../../CubeMX/STM32F103CBTX_FLASH.ld).

### **gpio**

- üìÑ <a id="gpio_h"></a> **[gpio.h](./gpio.h)** —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GPIO (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∏–Ω–æ–≤ –¥–ª—è —Ç–æ—á–µ—á–Ω—ã—Ö –º–∞—Ç—Ä–∏—Ü - —Å—Ç—Ä–æ–∫–∏, –∫–æ–ª–æ–Ω–∫–∏, –∫–Ω–æ–ø–∫–∏).

- üìÑ **[gpio.c](./gpio.c)** —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π [gpio.h](#gpio_h).

### **tim**

- üìÑ <a id="tim_h"></a> **[tim.h](./tim.h)** —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–π–º–µ—Ä–∞–º–∏ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –≤–∫–ª—é—á–µ–Ω–∏–µ-–≤—ã–∫–ª—é—á–µ–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è).

1. –¢–∞–π–º–µ—Ä 2: –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –®–ò–ú –¥–ª—è –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –±—É–∑–µ—Ä–∞;
2. –¢–∞–π–º–µ—Ä 3: –¥–ª—è –∑–∞–¥–µ—Ä–∂–µ–∫ –≤ –º—Å –∏ –º–∫—Å –≤ **_TEST_MODE_**;
3. –¢–∞–π–º–µ—Ä 4: –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤, –¥–ª—è —É–¥–µ—Ä–∂–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ –º—Å, –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (CAN, USART), –¥–ª—è –æ—Ç—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è –∫–Ω–æ–ø–æ–∫ –≤ —Ä–µ–∂–∏–º–µ –º–µ–Ω—é, –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç–∏ —Ç–æ–Ω–∞.

- üìÑ **[tim.c](./tim.c)** —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π [tim.h](#tim_h).
